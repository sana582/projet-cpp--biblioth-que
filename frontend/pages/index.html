<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ma Biblioth√®que Compl√®te</title>
    <style>
    </style>
    <script>
    </script>
</head>
<body>
    <div class="container">
        <h1>üìö Syst√®me de Gestion de Biblioth√®ques</h1>
        <p class="subtitle">Gestion compl√®te avec 2 biblioth√®ques</p>

        <div id="message" class="message"></div>

        <!-- S√©lecteur de Biblioth√®que -->
        <div class="biblio-selector">
            <div class="biblio-card selected" onclick="selectionnerBiblio(1)">
                <h3>üèõÔ∏è Biblioth√®que Centrale</h3>
                <p>Marseille (B001)</p>
                <p style="margin-top: 5px;"><strong id="livres-b1">5</strong> livres</p>
            </div>
            <div class="biblio-card" onclick="selectionnerBiblio(2)">
                <h3>üèõÔ∏è Biblioth√®que Nord</h3>
                <p>Aix-en-Provence (B002)</p>
                <p style="margin-top: 5px;"><strong id="livres-b2">0</strong> livres</p>
            </div>
        </div>

        <!-- Menu Principal -->
        <div id="menu-principal" class="section active">
            <div class="stat-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalLivres">5</div>
                    <div class="stat-label">Total Livres</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="livresLibres">5</div>
                    <div class="stat-label">Disponibles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="livresEmpruntes">0</div>
                    <div class="stat-label">Emprunt√©s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="livresPretes">0</div>
                    <div class="stat-label">Pr√™t√©s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalAdherents">1</div>
                    <div class="stat-label">Adh√©rents</div>
                </div>
            </div>

            <div class="menu">
                <button class="menu-btn" onclick="montrerSection('voir-livres')">
                    üìñ Voir les Livres
                </button>
                <button class="menu-btn" onclick="montrerSection('ajouter')">
                    ‚ûï Ajouter Livre
                </button>
                <button class="menu-btn" onclick="montrerSection('emprunter')">
                    üì§ Emprunter
                </button>
                <button class="menu-btn" onclick="montrerSection('rendre')">
                    üì• Rendre
                </button>
                <button class="menu-btn" onclick="montrerSection('preter')">
                    üîÑ Pr√™ter B1‚ÜíB2
                </button>
                <button class="menu-btn" onclick="montrerSection('demander')">
                    üìû Demander ISBN
                </button>
                <button class="menu-btn" onclick="montrerSection('adherents')">
                    üë• Adh√©rents
                </button>
                <button class="menu-btn" onclick="montrerSection('supprimer')">
                    üóëÔ∏è Supprimer
                </button>
                <button class="menu-btn" onclick="retournerLivresPretes()">
                    ‚Ü©Ô∏è Retour Pr√™ts
                </button>
            </div>
        </div>

        <!-- Voir les Livres -->
        <div id="voir-livres" class="section">
            <h2 class="section-title">üìñ Catalogue des Livres</h2>
            
            <div class="tabs">
                <button class="tab-btn active" onclick="afficherParType('tous')">Tous</button>
                <button class="tab-btn" onclick="afficherParType('Roman')">Romans</button>
                <button class="tab-btn" onclick="afficherParType('BD')">BD</button>
                <button class="tab-btn" onclick="afficherParType('Po√©sie')">Po√©sie</button>
                <button class="tab-btn" onclick="afficherParType('Th√©√¢tre')">Th√©√¢tre</button>
                <button class="tab-btn" onclick="afficherParType('Album')">Albums</button>
            </div>

            <div id="liste-livres" class="livre-grid"></div>
            <button class="btn btn-back" onclick="montrerSection('menu-principal')">‚Üê Retour</button>
        </div>

        <!-- Ajouter un Livre -->
        <div id="ajouter" class="section">
            <h2 class="section-title">‚ûï Ajouter un Nouveau Livre</h2>
            <div class="form-box">
                <form onsubmit="ajouterLivre(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Code :</label>
                            <input type="text" id="code" required placeholder="Ex: R001">
                        </div>
                        <div class="form-group">
                            <label>ISBN :</label>
                            <input type="text" id="isbn" required placeholder="Ex: ISBN-111">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Titre :</label>
                        <input type="text" id="titre" required placeholder="Titre du livre">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Auteur :</label>
                            <input type="text" id="auteur" required placeholder="Nom de l'auteur">
                        </div>
                        <div class="form-group">
                            <label>√âditeur :</label>
                            <input type="text" id="editeur" required placeholder="Nom de l'√©diteur">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Type :</label>
                            <select id="type" required onchange="updateFormFields()">
                                <option value="Roman">Roman</option>
                                <option value="BD">Bande Dessin√©e</option>
                                <option value="Po√©sie">Recueil de Po√©sie</option>
                                <option value="Th√©√¢tre">Pi√®ce de Th√©√¢tre</option>
                                <option value="Album">Album</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Public Cible :</label>
                            <select id="publicCible" required>
                                <option value="Adulte">Adulte</option>
                                <option value="Ados">Adolescent</option>
                                <option value="Jeunesse">Jeunesse</option>
                                <option value="Tout public">Tout Public</option>
                            </select>
                        </div>
                    </div>

                    <div id="specificFields"></div>

                    <button type="submit" class="btn">Ajouter</button>
                    <button type="button" class="btn btn-back" onclick="montrerSection('menu-principal')">Annuler</button>
                </form>
            </div>
        </div>

        <!-- Emprunter -->
        <div id="emprunter" class="section">
            <h2 class="section-title">üì§ Emprunter un Livre</h2>
            <div class="form-box">
                <form onsubmit="emprunterLivre(event)">
                    <div class="form-group">
                        <label>Num√©ro Adh√©rent :</label>
                        <input type="text" id="numAdherentEmp" required placeholder="Ex: A001">
                    </div>
                    <div class="form-group">
                        <label>Code Livre :</label>
                        <input type="text" id="codeLivreEmp" required placeholder="Ex: R001">
                    </div>
                    <button type="submit" class="btn">Emprunter</button>
                    <button type="button" class="btn btn-back" onclick="montrerSection('menu-principal')">Annuler</button>
                </form>
            </div>
        </div>

        <!-- Rendre -->
        <div id="rendre" class="section">
            <h2 class="section-title">üì• Rendre un Livre</h2>
            <div class="form-box">
                <form onsubmit="rendreLivre(event)">
                    <div class="form-group">
                        <label>Num√©ro Adh√©rent :</label>
                        <input type="text" id="numAdherentRen" required placeholder="Ex: A001">
                    </div>
                    <div class="form-group">
                        <label>Code Livre :</label>
                        <input type="text" id="codeLivreRen" required placeholder="Ex: R001">
                    </div>
                    <button type="submit" class="btn">Rendre</button>
                    <button type="button" class="btn btn-back" onclick="montrerSection('menu-principal')">Annuler</button>
                </form>
            </div>
        </div>

        <!-- Pr√™ter -->
        <div id="preter" class="section">
            <h2 class="section-title">üîÑ Pr√™ter un Livre (B1 ‚Üí B2)</h2>
            <div class="form-box">
                <p style="margin-bottom: 15px; color: #7f8c8d;">
                    Transf√©rer un livre libre de la Biblioth√®que Centrale vers la Biblioth√®que Nord
                </p>
                <form onsubmit="preterLivre(event)">
                    <div class="form-group">
                        <label>Code Livre (dans B1) :</label>
                        <input type="text" id="codeLivrePret" required placeholder="Ex: T001">
                    </div>
                    <button type="submit" class="btn">Pr√™ter √† B2</button>
                    <button type="button" class="btn btn-back" onclick="montrerSection('menu-principal')">Annuler</button>
                </form>
            </div>
        </div>

        <!-- Demander par ISBN -->
        <div id="demander" class="section">
            <h2 class="section-title">üìû Demander un Livre par ISBN</h2>
            <div class="form-box">
                <p style="margin-bottom: 15px; color: #7f8c8d;">
                    B2 demande un livre √† B1 en utilisant son ISBN
                </p>
                <form onsubmit="demanderLivre(event)">
                    <div class="form-group">
                        <label>ISBN du Livre :</label>
                        <input type="text" id="isbnDemande" required placeholder="Ex: ISBN-555">
                    </div>
                    <button type="submit" class="btn">Demander √† B1</button>
                    <button type="button" class="btn btn-back" onclick="montrerSection('menu-principal')">Annuler</button>
                </form>
            </div>
        </div>

        <!-- Adh√©rents -->
        <div id="adherents" class="section">
            <h2 class="section-title">üë• Gestion des Adh√©rents</h2>
            
            <div class="form-box" style="margin-bottom: 20px;">
                <h3 style="margin-bottom: 15px;">‚ûï Inscrire un Nouvel Adh√©rent</h3>
                <form onsubmit="inscrireAdherent(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Num√©ro :</label>
                            <input type="text" id="numAdh" required placeholder="Ex: A002">
                        </div>
                        <div class="form-group">
                            <label>Nom :</label>
                            <input type="text" id="nomAdh" required placeholder="Nom">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Pr√©nom :</label>
                            <input type="text" id="prenomAdh" required placeholder="Pr√©nom">
                        </div>
                        <div class="form-group">
                            <label>Adresse :</label>
                            <input type="text" id="adresseAdh" required placeholder="Ville">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Nombre de livres autoris√©s :</label>
                        <input type="number" id="nbLivresAdh" required value="2" min="1" max="10">
                    </div>
                    <button type="submit" class="btn">Inscrire</button>
                </form>
            </div>

            <h3 style="margin-top: 30px; margin-bottom: 15px;">Liste des Adh√©rents (B1)</h3>
            <table id="tableAdherents">
                <thead>
                    <tr>
                        <th>Num√©ro</th>
                        <th>Nom</th>
                        <th>Pr√©nom</th>
                        <th>Ville</th>
                        <th>Limite</th>
                        <th>Emprunt√©s</th>
                    </tr>
                </thead>
                <tbody id="listeAdherents"></tbody>
            </table>

            <button class="btn btn-back" style="margin-top: 20px;" onclick="montrerSection('menu-principal')">‚Üê Retour</button>
        </div>

        <!-- Supprimer -->
        <div id="supprimer" class="section">
            <h2 class="section-title">üóëÔ∏è Supprimer un Livre</h2>
            <div class="form-box">
                <form onsubmit="supprimerLivre(event)">
                    <div class="form-group">
                        <label>Code Livre :</label>
                        <input type="text" id="codeLivreSupp" required placeholder="Ex: P001">
                    </div>
                    <div class="form-group">
                        <label>Motif :</label>
                        <select id="motifSupp" required>
                            <option value="Perdu">Perdu</option>
                            <option value="Pilon">Pilon (mise au rebut)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-danger">Supprimer</button>
                    <button type="button" class="btn btn-back" onclick="montrerSection('menu-principal')">Annuler</button>
                </form>
            </div>
        </div>
    </div>


</body>
</html>